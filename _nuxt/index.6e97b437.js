import{g as u,bQ as y,bI as F,h as t,o as r,l as g,w as d,b as l,c6 as w,B as I,a as h,t as T,n as C,m as N,q as B,e as V,x as f,c as _,D,d as x,K as k,E as U,c5 as E,s as L,F as P,r as S,u as z}from"./entry.3c426d59.js";import{_ as A}from"./Background.vue.4145edfb.js";import{P as G}from"./PageHeading.a3405d24.js";import{u as $}from"./noteStore.4396903c.js";import{a as H}from"./TagSelecter.vue.9504b94b.js";import{_ as M}from"./Tag.59fa2b7b.js";import{_ as R}from"./Dialog.vue.24f220d6.js";import{_ as q}from"./FABButton.vue.7f56f62b.js";import{_ as K}from"./NoteForm.vue.1042c5cd.js";import"./InputAlt.vue.eeed0fbb.js";const O=u({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(c,{emit:n}){const s=c,e=$().tagArray,i=a=>n("update:selected",a);return(a,b)=>y((r(),g(H,{tags:t(e),selected:s.selected,label:"Filter by Tag","onUpdate:selected":i,clearable:""},null,8,["tags","selected"])),[[F,t(e).length]])}}),Q={class:"card-title leading-5"},j=u({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(c,{emit:n}){const s=c;function o(e){s.href||(e.preventDefault(),n("click"))}return(e,i)=>{const a=V;return r(),g(a,{class:C(("mergeClasses"in e?e.mergeClasses:t(N))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:o,href:s.href},{default:d(()=>[l(t(I),{icon:t(w),size:"2xl",class:"text-accent"},null,8,["icon"]),h("div",{class:C(("mergeClasses"in e?e.mergeClasses:t(N))("card-body","p-0","gap-0"))},[h("div",Q,T(s.label),1)],2),s.tag?(r(),g(M,{key:0,icon:s.tag.icon,color:s.tag.color},null,8,["icon","color"])):B("",!0)]),_:1},8,["class","href"])}}}),J=u({__name:"CreateNote",setup(c){const n=$(),s=f(!1),o=f(""),e=f(-1),i=()=>s.value=!0,a=()=>s.value=!1,b=()=>{n.newNote(o.value,e.value),a()};return(m,p)=>(r(),_("div",null,[l(q,{icon:t(D),onClick:i,class:"btn-primary -bottom-6 right-4"},null,8,["icon"]),l(R,{"is-opened":t(s),onClose:a},{title:d(()=>[x("Create a new note")]),default:d(()=>[l(K,{name:t(o),"onUpdate:name":p[0]||(p[0]=v=>k(o)?o.value=v:null),"tag-id":t(e),"onUpdate:tagId":p[1]||(p[1]=v=>k(e)?e.value=v:null)},null,8,["name","tag-id"])]),actions:d(()=>[l(U,{class:"btn-success",onClick:b},{default:d(()=>[x("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),W=u({__name:"NotesGrid",props:{tagFilter:{}},setup(c){const n=c,s=$(),{notes:o}=E(s),e=L(()=>[...o.value.values()].filter(a=>n.tagFilter<0||n.tagFilter===a.tagId)),i=a=>s.tags.get(a);return(a,b)=>(r(),_("div",{class:C(("mergeClasses"in a?a.mergeClasses:t(N))("grid","grid-cols-1","md:grid-cols-2","gap-2","py-2","relative"))},[(r(!0),_(P,null,S(t(e),m=>(r(),g(j,{key:`note-${m.id}`,label:m.title,href:`/notes/${m.id}`,tag:i(m.tagId)},null,8,["label","href","tag"]))),128)),l(J)],2))}}),X={class:"flex flex-col items-center gap-2"},Y=u({__name:"NotesVue",setup(c){const n=f(-1);return(s,o)=>(r(),_("div",X,[l(O,{selected:t(n),"onUpdate:selected":o[0]||(o[0]=e=>n.value=e)},null,8,["selected"]),l(W,{"tag-filter":t(n),class:"w-full"},null,8,["tag-filter"])]))}}),Z=h("span",null,"Notes",-1),de=u({__name:"index",setup(c){return z({title:"Notes"}),(n,s)=>(r(),_("div",null,[l(G,null,{default:d(()=>[Z]),_:1}),l(A,{icon:t(w)},null,8,["icon"]),l(Y)]))}});export{de as default};
