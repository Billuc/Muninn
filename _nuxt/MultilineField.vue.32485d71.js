import{g as h,R as x,x as y,bL as _,c as b,t as v,h as l,n as R,o as w,m as C}from"./entry.3c426d59.js";const T=["placeholder"],B=h({__name:"MultilineField",props:{value:{},detectEnter:{type:Boolean},placeholder:{}},emits:["input","enter"],setup(p,{expose:d,emit:c}){const u=p,{value:o,placeholder:m,detectEnter:g}=x(u),a=y(null),f=e=>{var n;const t=(n=e.target)==null?void 0:n.innerText;g&&(e.inputType==="insertParagraph"||e.inputType==="insertText"&&t.endsWith(`
`))?c("enter",t.trim()):c("input",t)};return d({reset:()=>{const e=a.value;e.innerText=""}}),_([o],()=>{const t=document.getSelection().getRangeAt(0).endOffset,n=a.value;n.innerHTML=o.value;const r=document.createRange(),i=window.getSelection(),s=n.childNodes[0];i.removeAllRanges(),s&&(r.setStart(s,s&&t>s.textContent.length?0:t),r.collapse(!0),i.addRange(r))}),(e,t)=>(w(),b("div",{class:R(("mergeClasses"in e?e.mergeClasses:l(C))("focus:outline-0","m-0","leading-normal","whitespace-pre-wrap","empty:before:content-[attr(placeholder)]","empty:before:text-sm","empty:before:opacity-75","empty:before:cursor-text")),onInput:f,placeholder:l(m)||"",contenteditable:"",tabindex:"0",ref_key:"input",ref:a},v(l(o)),43,T))}});export{B as _};
