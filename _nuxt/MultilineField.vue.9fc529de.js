import{g as v,Q as b,x,bQ as y,c as _,t as w,h as l,n as C,o as R,m as T}from"./entry.fba0ea98.js";const S=["placeholder"],E=v({__name:"MultilineField",props:{value:{},detectEnter:{type:Boolean},placeholder:{}},emits:["input","enter"],setup(p,{expose:d,emit:c}){const u=p,{value:s,placeholder:m,detectEnter:g}=b(u),o=x(null),f=e=>{var n;const t=(n=e.target)==null?void 0:n.innerText;g&&(e.inputType==="insertParagraph"||e.inputType==="insertText"&&t.endsWith(`
`))?(c("enter",t.trim()),h()):c("input",t)},h=()=>{const e=o.value;e.innerText=s.value};return d({blur:()=>{o.value.blur()}}),y([s],()=>{const t=document.getSelection().getRangeAt(0).endOffset,n=o.value;n.innerHTML=s.value;const a=document.createRange(),i=window.getSelection(),r=n.childNodes[0];i.removeAllRanges(),r&&(a.setStart(r,t>r.textContent.length?0:t),a.collapse(!0),i.addRange(a))}),(e,t)=>(R(),_("div",{class:C(("mergeClasses"in e?e.mergeClasses:l(T))("focus:outline-0","m-0","leading-normal","whitespace-pre-wrap","empty:before:content-[attr(placeholder)]","empty:before:text-sm","empty:before:opacity-75","empty:before:cursor-text")),onInput:f,placeholder:l(m)||"",contenteditable:"",tabindex:"0",ref_key:"input",ref:o},w(l(s)),43,S))}});export{E as _};
