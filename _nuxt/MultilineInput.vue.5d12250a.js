import{g as h,$ as v,x as b,bQ as x,c as y,t as _,h as r,n as w,o as C,m as R}from"./entry.8d26aa90.js";const T=["placeholder"],B=h({__name:"MultilineInput",props:{value:{},detectEnter:{type:Boolean},placeholder:{}},emits:["update:value","enter"],setup(p,{expose:i,emit:l}){const u=p,{value:s,placeholder:d,detectEnter:m}=v(u),n=b(null),g=e=>{var a;const t=(a=e.target)==null?void 0:a.innerText;m&&(e.inputType==="insertParagraph"||e.inputType==="insertText"&&t.endsWith(`
`))?(l("enter",t.trim()),f()):l("update:value",t)},f=()=>{n.value&&(n.value.innerText=s.value)};return i({blur:()=>{var e;return(e=n.value)==null?void 0:e.blur()}}),x([s],()=>{const t=document.getSelection().getRangeAt(0).endOffset;n.value.innerHTML=s.value;const a=document.createRange(),c=window.getSelection(),o=n.value.childNodes[0];c.removeAllRanges(),o&&(a.setStart(o,t>o.textContent.length?0:t),a.collapse(!0),c.addRange(a))}),(e,t)=>(C(),y("div",{class:w(("mergeClasses"in e?e.mergeClasses:r(R))("focus:outline-0","m-0","leading-normal","whitespace-pre-wrap","empty:before:content-[attr(placeholder)]","empty:before:text-sm","empty:before:opacity-75","empty:before:cursor-text")),onInput:g,placeholder:r(d)||"",contenteditable:"",tabindex:"0",ref_key:"input",ref:n},_(r(s)),43,T))}});export{B as _};
