import{g as m,Y as T,Z as I,h as t,o as c,q as v,w as d,b as l,ca as y,E as V,a as C,t as B,n as N,m as $,M as U,e as z,x as _,c as p,J as D,d as x,z as w,K as E,c9 as L,l as M,F as P,r as S,u as A}from"./entry.3531927a.js";import{_ as G}from"./Background.vue.e1bce8f7.js";import{P as H}from"./PageHeading.53019c39.js";import{u as k}from"./noteStore.e406f719.js";import{_ as R}from"./TagSelecter.vue.155c98a7.js";import{_ as q}from"./SelectField.vue.66698915.js";import{c as J}from"./InputField.vue.934568d5.js";import{_ as K}from"./FABButton.vue.f87f945e.js";import{_ as O}from"./NoteForm.vue.ffb28a5d.js";const Y=m({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(i,{emit:a}){const s=i,e=k().tagArray,r=n=>a("update:selected",n);return(n,f)=>T((c(),v(R,{tags:t(e),selected:s.selected,label:"Filter by Tag","onUpdate:selected":r,clearable:""},null,8,["tags","selected"])),[[I,t(e).length]])}}),Z={class:"card-title leading-5"},j=m({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(i,{emit:a}){const s=i;function o(e){s.href||(e.preventDefault(),a("click"))}return(e,r)=>{const n=z;return c(),v(n,{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:o,href:s.href},{default:d(()=>[l(t(V),{icon:t(y),size:"2xl",class:"text-accent"},null,8,["icon"]),C("div",{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card-body","p-0","gap-0"))},[C("div",Z,B(s.label),1)],2),s.tag?(c(),v(q,{key:0,icon:s.tag.icon,color:s.tag.color},null,8,["icon","color"])):U("",!0)]),_:1},8,["class","href"])}}}),Q=m({__name:"CreateNote",setup(i){const a=k(),s=_(null),o=_(!1),e=_(""),r=_(-1),n=()=>o.value=!0,f=()=>o.value=!1,u=()=>{var h;(h=s.value)!=null&&h.validate()&&(a.newNote(e.value,r.value),f(),F())},F=()=>{e.value="",r.value=-1};return(h,g)=>(c(),p("div",null,[l(K,{icon:t(D),onClick:n,class:"-bottom-6 right-4"},null,8,["icon"]),l(J,{"is-opened":t(o),onClose:f},{title:d(()=>[x("Create a new note")]),default:d(()=>[l(O,{name:t(e),"onUpdate:name":g[0]||(g[0]=b=>w(e)?e.value=b:null),"tag-id":t(r),"onUpdate:tagId":g[1]||(g[1]=b=>w(r)?r.value=b:null),ref_key:"form",ref:s},null,8,["name","tag-id"])]),actions:d(()=>[l(E,{class:"btn-success",onClick:u},{default:d(()=>[x("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),W=m({__name:"NotesGrid",props:{tagFilter:{}},setup(i){const a=i,s=k(),{notes:o}=L(s),e=M(()=>[...o.value.values()].filter(n=>a.tagFilter<0||a.tagFilter===n.tagId)),r=n=>s.tags.get(n);return(n,f)=>(c(),p("div",{class:N(("mergeClasses"in n?n.mergeClasses:t($))("grid","grid-cols-1","md:grid-cols-2","gap-2","py-2","relative"))},[(c(!0),p(P,null,S(t(e),u=>(c(),v(j,{key:`note-${u.id}`,label:u.title,href:`/notes/${u.id}`,tag:r(u.tagId)},null,8,["label","href","tag"]))),128)),l(Q)],2))}}),X={class:"flex flex-col items-center gap-2"},ee=m({__name:"NotesVue",setup(i){const a=_(-1);return(s,o)=>(c(),p("div",X,[l(Y,{selected:t(a),"onUpdate:selected":o[0]||(o[0]=e=>a.value=e)},null,8,["selected"]),l(W,{"tag-filter":t(a),class:"w-full"},null,8,["tag-filter"])]))}}),se=C("span",null,"Notes",-1),de=m({__name:"index",setup(i){return A({title:"Notes"}),(a,s)=>(c(),p("div",null,[l(H,null,{default:d(()=>[se]),_:1}),l(G,{icon:t(y)},null,8,["icon"]),l(ee)]))}});export{de as default};
