import{g as v,b_ as M,x as d,o as _,c as b,b as s,h as e,b$ as T,K as m,w as c,d as p,t as h,c0 as U,z as $,v as V,n as y,m as I,c7 as E,l as P,u as R,q as S,M as z,a as w,ca as D}from"./entry.8c742812.js";import{_ as H}from"./SelectField.vue.27b9cb5e.js";import{_ as O}from"./BackButton.vue.e81aefc2.js";import{_ as q}from"./Background.vue.e060ab76.js";import{P as A}from"./PageHeading.7b62e58d.js";import{u as x}from"./noteStore.88627a9a.js";import{c as B}from"./InputField.vue.c6850f9b.js";import{_ as K}from"./NoteForm.vue.7c7acb67.js";import{_ as L}from"./MultilineInput.vue.efac9098.js";import"./TagSelecter.vue.3d5a3acf.js";const W={class:"inline-block"},Y=v({__name:"DeleteNote",props:{note:{}},setup(u){const o=u,i=x(),r=M(),t=d(!1),n=()=>t.value=!0,a=()=>t.value=!1;function l(){i.removeNote(o.note.id),r.push({name:"notes"}),a()}return(f,k)=>(_(),b("div",W,[s(m,{icon:e(T),onClick:n,class:"text-error btn-ghost"},null,8,["icon"]),s(B,{"is-opened":e(t),onClose:a},{title:c(()=>[p(' Are you sure you want to remove note "'+h(o.note.title)+'" ? ',1)]),actions:c(()=>[s(m,{class:"btn-error",onClick:a},{default:c(()=>[p("No")]),_:1}),s(m,{class:"btn-success ml-2",onClick:l},{default:c(()=>[p("Yes")]),_:1})]),_:1},8,["is-opened"])]))}}),j={class:"inline-block"},F=v({__name:"EditNote",props:{note:{}},setup(u){const o=u,i=x(),r=d(null),t=d(!1),n=d(o.note.title),a=d(o.note.tagId),l=()=>t.value=!0,f=()=>t.value=!1;function k(){var N;(N=r.value)!=null&&N.validate()&&(i.editNote(o.note.id,n.value,o.note.text,a.value),f())}return(N,g)=>(_(),b("div",j,[s(m,{icon:e(U),onClick:l,class:"text-info btn-ghost"},null,8,["icon"]),s(B,{"is-opened":e(t),onClose:f},{title:c(()=>[p('Edit note "'+h(o.note.title)+'"',1)]),default:c(()=>[s(K,{name:e(n),"onUpdate:name":g[0]||(g[0]=C=>$(n)?n.value=C:null),"tag-id":e(a),"onUpdate:tagId":g[1]||(g[1]=C=>$(a)?a.value=C:null),ref_key:"form",ref:r},null,8,["name","tag-id"])]),actions:c(()=>[s(m,{class:"btn-success",onClick:k},{default:c(()=>[p("Save")]),_:1})]),_:1},8,["is-opened"])]))}}),G=v({__name:"Note",props:{note:{}},setup(u){const o=u,i=x(),r=d(o.note.text),t=l=>{r.value=l,a()};function n(){i.editNote(o.note.id,o.note.title,r.value,o.note.tagId)}const a=V.debounce(n,2e3);return(l,f)=>(_(),b("div",{class:y(("mergeClasses"in l?l.mergeClasses:e(I))("flex","flex-col","flex-nowrap","gap-y-2"))},[s(L,{value:e(r),placeholder:"Write here...","onUpdate:value":t,class:y(("mergeClasses"in l?l.mergeClasses:e(I))("textarea","textarea-md","bg-base-200","shadow-md"))},null,8,["value","class"])],2))}}),J={class:"mx-2"},Q={class:"inline-block"},re=v({__name:"index",setup(u){const o=E(),i=x(),r=Number(o.params.id),t=i.getNote(r),n=P(()=>i.tags.get(t.tagId));return R({title:`Notes - ${t.title}`}),(a,l)=>(_(),b("div",null,[s(A,null,{prepend:c(()=>[s(O,{to:"notes",label:"Back to notes",class:"mr-4"}),e(n)?(_(),S(H,{key:0,text:e(n).title,color:e(n).color,icon:e(n).icon},null,8,["text","color","icon"])):z("",!0)]),append:c(()=>[w("div",Q,[s(F,{note:e(t)},null,8,["note"]),s(Y,{note:e(t)},null,8,["note"])])]),default:c(()=>[w("span",J,h(e(t).title),1)]),_:1}),s(q,{icon:e(D)},null,8,["icon"]),s(G,{note:e(t)},null,8,["note"])]))}});export{re as default};
