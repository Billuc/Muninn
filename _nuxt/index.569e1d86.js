import{g as b,c as v,a as k,s as x,h as s,t as $,o as f,v as y,A as C,b as t,D as h,w as _,K as U,d as g,x as D,E as R,G as S,y as I,H as M,C as E,L as V,M as A,z as O,q as j,r as z,I as H,u as Y}from"./entry.d8fda07f.js";import{u as T}from"./todoStore.191c82db.js";import{_ as B,a as q}from"./TextInput.vue.90f81cb7.js";import{_ as F}from"./MultilineInput.vue.14661b2b.js";const G={class:"form-control"},K={class:"cursor-pointer label"},P=["checked"],W=b({__name:"Toggle",props:{toggleClass:{},labelClass:{},label:{},value:{type:Boolean}},emits:["input"],setup(d,{emit:n}){const a=d;function o(e){n("input",e.target.checked)}return(e,l)=>(f(),v("div",G,[k("label",K,[k("span",{class:x(("mergeClasses"in e?e.mergeClasses:s(y))("label-text","mr-2",a.labelClass))},$(a.label),3),k("input",{type:"checkbox",class:x(("mergeClasses"in e?e.mergeClasses:s(y))("toggle",a.toggleClass)),checked:a.value,onInput:o},null,42,P)])]))}}),J=b({__name:"ClearCheckedButton",props:{todolist:{}},setup(d){const n=d,a=T(),o=C(!1),e=()=>o.value=!0,l=()=>o.value=!1;function c(){a.removeChecked(n.todolist.id),l()}return(r,m)=>(f(),v("div",null,[t(h,{icon:s(U),label:"Clear checked",onClick:e,class:"btn-error"},null,8,["icon"]),t(B,{"is-opened":s(o),onClose:l},{title:_(()=>[g(" Are you sure you want to remove checked elements ? ")]),actions:_(()=>[t(h,{class:"btn-error",onClick:l},{default:_(()=>[g("No")]),_:1}),t(h,{class:"btn-success ml-2",onClick:c},{default:_(()=>[g("Yes")]),_:1})]),_:1},8,["is-opened"])]))}}),Q={class:"inline-block"},X=b({__name:"DeleteTodoList",props:{todolist:{}},setup(d){const n=d,a=T(),o=D(),e=C(!1),l=()=>e.value=!0,c=()=>e.value=!1;function r(){a.removeList(n.todolist.id),o.push({path:"/todos"}),c()}return(m,i)=>(f(),v("div",Q,[t(h,{icon:s(R),onClick:l,class:"text-error btn-ghost"},null,8,["icon"]),t(B,{"is-opened":s(e),onClose:c},{title:_(()=>[g(' Are you sure you want to remove todolist "'+$(n.todolist.title)+'" ? ',1)]),actions:_(()=>[t(h,{class:"btn-error",onClick:c},{default:_(()=>[g("No")]),_:1}),t(h,{class:"btn-success ml-2",onClick:r},{default:_(()=>[g("Yes")]),_:1})]),_:1},8,["is-opened"])]))}}),Z={class:"inline-block"},ee=b({__name:"EditTodoList",props:{todolist:{}},setup(d){const n=d,a=T(),o=C(!1),e=C(n.todolist.title),l=()=>o.value=!0,c=()=>o.value=!1,r=i=>e.value=i;function m(){a.editList(n.todolist.id,e.value),c()}return(i,p)=>(f(),v("div",Z,[t(h,{icon:s(S),onClick:l,class:"text-info btn-ghost"},null,8,["icon"]),t(B,{"is-opened":s(o),onClose:c},{title:_(()=>[g('Edit todolist "'+$(n.todolist.title)+'"',1)]),default:_(()=>[k("div",null,[t(q,{label:"Todolist name",value:s(e),placeholder:"Enter name...","input-class":"input-secondary",onInput:r},null,8,["value"])])]),actions:_(()=>[t(h,{class:"btn-success",label:"Save",onClick:m})]),_:1},8,["is-opened"])]))}}),se=["checked"],oe=b({__name:"Checkbox",props:{value:{type:Boolean}},emits:["input"],setup(d,{expose:n,emit:a}){const o=d;var e=C(null);function l(r){a("input",r.target.checked)}return n({reset:()=>{e.value.checked=o.value}}),(r,m)=>(f(),v("input",{type:"checkbox",class:"checkbox",checked:s(o).value,onInput:l,ref_key:"checkbox",ref:e},null,40,se))}}),L=b({__name:"Todo",props:{todo:{}},emits:["update:title","update:done"],setup(d,{emit:n}){const a=d,{todo:o}=I(a),e=C(null),l=C(null),c=p=>{var u;n("update:done",p),(u=l.value)==null||u.reset()},r=p=>{var u;n("update:title",p),(u=e.value)==null||u.resetContent()},m=M.debounce(r,2e3),i=p=>{r(p),m.cancel()};return(p,u)=>(f(),v("div",{class:x(("mergeClasses"in p?p.mergeClasses:s(y))("m-0","flex","flex-nowrap","gap-x-2"))},[t(oe,{value:s(o).done,onInput:c,class:"checkbox-secondary",ref_key:"checkbox",ref:l},null,8,["value"]),t(F,{value:s(o).title,placeholder:"Write here...",ref_key:"input",ref:e,onInput:s(m),class:x({"w-full":!0,"line-through":s(o).done}),"detect-enter":"",onEnter:i},null,8,["value","onInput","class"]),s(o).id>=0?(f(),E(h,{key:0,icon:s(V),class:"btn-circle !btn-xs",onClick:u[0]||(u[0]=w=>i(""))},null,8,["icon"])):A("",!0)],2))}}),te=b({__name:"TodoList",props:{showChecked:{type:Boolean},todolist:{}},setup(d){const n=d,{showChecked:a,todolist:o}=I(n),e=T(),l=O(()=>M.pickBy(o.value.todos,i=>!i.done||a.value)),c={id:-1,done:!1,title:""};function r(i,p,u){p?e.editTodo(o.value.id,i,p,u):e.removeTodo(o.value.id,i)}function m(i){i&&e.newTodo(o.value.id,i)}return(i,p)=>(f(),v("div",{class:x(("mergeClasses"in i?i.mergeClasses:s(y))("flex","flex-col","flex-nowrap","gap-y-2"))},[(f(!0),v(j,null,z(s(l),(u,w)=>(f(),E(L,{todo:u,"onUpdate:title":N=>r(Number(w),N,u.done),"onUpdate:done":N=>r(Number(w),u.title,N)},null,8,["todo","onUpdate:title","onUpdate:done"]))),256)),t(L,{todo:c,"onUpdate:title":m})],2))}}),ne={class:"prose mx-auto"},le={class:"text-center text-secondary-focus mb-0 mr-2"},ae={class:"inline-block ml-2"},ue=b({__name:"index",setup(d){const n=H(),a=T(),o=Number(n.params.id),e=a.getList(o),l=C(!1);return Y({title:`Todos - ${e.title}`}),(c,r)=>(f(),v("div",ne,[k("div",{class:x(("mergeClasses"in c?c.mergeClasses:s(y))("flex","flex-wrap","justify-center","items-center","mb-6"))},[k("h1",le,$(s(e).title),1),k("div",ae,[t(ee,{todolist:s(e)},null,8,["todolist"]),t(X,{todolist:s(e)},null,8,["todolist"])])],2),k("div",{class:x(("mergeClasses"in c?c.mergeClasses:s(y))("flex","justify-end","my-6"))},[t(W,{label:"Show checked",value:s(l),onInput:r[0]||(r[0]=m=>l.value=m),"toggle-class":"toggle-secondary",class:"w-fit"},null,8,["value"]),t(J,{todolist:s(e)},null,8,["todolist"])],2),t(te,{"show-checked":s(l),todolist:s(e)},null,8,["show-checked","todolist"])]))}});export{ue as default};
