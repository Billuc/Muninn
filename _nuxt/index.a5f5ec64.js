import{g as _,bQ as F,bI as I,h as s,o as r,l as h,w as u,b as n,c6 as x,B as T,a as v,t as B,n as b,m as C,q as V,e as D,x as f,c as m,D as E,d as $,E as A,c5 as L,s as P,F as S,r as U,u as z}from"./entry.5564aef3.js";import{_ as G}from"./Background.vue.80994d97.js";import{P as H}from"./PageHeading.25c30acd.js";import{u as N}from"./noteStore.4eda29e2.js";import{_ as k}from"./TagSelecter.vue.6c69c335.js";import{_ as M}from"./Tag.4288d6f9.js";import{_ as q}from"./Dialog.vue.f18504cd.js";import{_ as O}from"./TextInput.vue.a9b1644e.js";import{_ as Q}from"./FABButton.vue.1ba6035c.js";import"./Input.vue.690f6cc6.js";const R=_({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(c,{emit:a}){const t=c,e=N().tagArray,i=o=>a("update:selected",o);return(o,p)=>F((r(),h(k,{tags:s(e),selected:t.selected,label:"","onUpdate:selected":i},null,8,["tags","selected"])),[[I,s(e).length]])}}),j={class:"card-title leading-5"},J=_({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(c,{emit:a}){const t=c;function l(e){t.href||(e.preventDefault(),a("click"))}return(e,i)=>{const o=D;return r(),h(o,{class:b(("mergeClasses"in e?e.mergeClasses:s(C))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:l,href:t.href},{default:u(()=>[n(s(T),{icon:s(x),size:"2xl",class:"text-accent"},null,8,["icon"]),v("div",{class:b(("mergeClasses"in e?e.mergeClasses:s(C))("card-body","p-0","gap-0"))},[v("div",j,B(t.label),1)],2),t.tag?(r(),h(M,{key:0,icon:t.tag.icon,color:t.tag.color},null,8,["icon","color"])):V("",!0)]),_:1},8,["class","href"])}}}),K={class:"form-control gap-y-2"},W=_({__name:"CreateNote",setup(c){const a=N(),t=a.tagArray,l=f(!1),e=f(""),i=f(-1),o=()=>l.value=!0,p=()=>l.value=!1,d=g=>e.value=g,y=g=>i.value=g,w=()=>{a.newNote(e.value,i.value),p()};return(g,se)=>(r(),m("div",null,[n(Q,{icon:s(E),onClick:o,class:"btn-primary -bottom-6 right-4"},null,8,["icon"]),n(q,{"is-opened":s(l),onClose:p},{title:u(()=>[$("Create a new note")]),default:u(()=>[v("div",K,[n(O,{label:"Note name",value:s(e),placeholder:"Enter name...","input-class":"border-primary",onInput:d},null,8,["value"]),n(k,{tags:s(t),selected:s(i),"onUpdate:selected":y},null,8,["tags","selected"])])]),actions:u(()=>[n(A,{class:"btn-success",onClick:w},{default:u(()=>[$("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),X=_({__name:"NotesGrid",props:{tagFilter:{}},setup(c){const a=c,t=N(),{notes:l}=L(t),e=P(()=>[...l.value.values()].filter(o=>a.tagFilter<0||a.tagFilter===o.tagId)),i=o=>t.tags.get(o);return(o,p)=>(r(),m("div",{class:b(("mergeClasses"in o?o.mergeClasses:s(C))("grid","grid-cols-1","md:grid-cols-2","gap-1","py-2","relative"))},[(r(!0),m(S,null,U(s(e),d=>(r(),h(J,{key:`note-${d.id}`,label:d.title,href:`/notes/${d.id}`,tag:i(d.tagId)},null,8,["label","href","tag"]))),128)),n(W)],2))}}),Y={class:"flex flex-col items-center gap-2"},Z=_({__name:"NotesVue",setup(c){const a=f(-1);return(t,l)=>(r(),m("div",Y,[n(R,{selected:s(a),"onUpdate:selected":l[0]||(l[0]=e=>a.value=e)},null,8,["selected"]),n(X,{"tag-filter":s(a),class:"w-full"},null,8,["tag-filter"])]))}}),ee=v("span",null,"Notes",-1),_e=_({__name:"index",setup(c){return z({title:"Notes"}),(a,t)=>(r(),m("div",null,[n(H,null,{default:u(()=>[ee]),_:1}),n(G,{icon:s(x)},null,8,["icon"]),n(Z)]))}});export{_e as default};
