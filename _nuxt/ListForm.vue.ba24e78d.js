import{X as m,g as d,r as h,o as c,i as f,w as u,b as p,j as w,H as E}from"./entry.ff782d29.js";import{v as l}from"./PageHeading.d4020c78.js";import{a as L,b as g}from"./InputField.vue.f22ff1f2.js";const k=m("lists",{state:()=>({lists:new Map}),actions:{getList(e){if(this.lists.has(e))return this.lists.get(e);throw new Error(`[Lists] List with ID ${e} not found`)},newList(e){const t={id:l(),title:e,elements:new Map,nextElementId:0};this.lists.set(t.id,t)},editList(e,t){this.getList(e).title=t},removeList(e){if(!this.lists.delete(e))throw new Error(`[Lists] List with ID ${e} not found`)},newElement(e,t,i){const n=this.getList(e),s={id:l(),title:t,done:!1,index:n.elements.size,parentId:i};n.elements.set(s.id,s),n.nextElementId++},editElement(e,t,i,n){const s=this.getList(e);if(!s.elements.has(t))throw new Error(`[Lists] Element with ID ${t} not found in list ${s.title}`);s.elements.get(t).title=i,s.elements.get(t).done=n},removeElement(e,t){const i=this.getList(e),n=this.getElementChildren(e,t);if(!i.elements.delete(t))throw new Error(`[Lists] Element with ID ${t} not found in list ${i.title}`);n.forEach(s=>this.removeElement(e,s.id))},orderElements(e,t,i){const n=this.getList(e);t.forEach((s,r)=>{if(!n.elements.has(s.id))throw new Error(`[Lists] Element with ID ${s.id} not found in list ${n.title}`);n.elements.get(s.id).index=r,n.elements.get(s.id).parentId=i,this.orderElements(e,s.children,s.id)})},removeChecked(e){const t=this.getList(e);for(const i of t.elements.keys())t.elements.get(i).done&&t.elements.delete(i)},getElementChildren(e,t){var i=[];for(const[n,s]of this.getList(e).elements)s.parentId===t&&i.push(s);return i}}}),C=d({__name:"ListForm",props:{name:{}},emits:["update:name"],setup(e,{expose:t,emit:i}){const n=e,s=h(null),r=o=>i("update:name",o);return t({validate:()=>{var o;return(o=s.value)==null?void 0:o.validate()}}),(o,_)=>(c(),f(g,{ref_key:"form",ref:s},{default:u(()=>[p(L,{label:"List Name",placeholder:"Enter name...",value:n.name,icon:w(E),"onUpdate:value":r,rules:[a=>!!a]},null,8,["value","icon","rules"])]),_:1},512))}});export{C as _,k as u};
