import{g,b_ as M,x as d,o as _,c as v,b as s,h as e,b$ as R,K as m,w as c,d as p,t as $,c0 as T,z as k,$ as V,v as E,n as I,m as y,c7 as P,l as S,u as U,q as z,M as D,a as w,ca as H}from"./entry.8d26aa90.js";import{_ as O}from"./SelectField.vue.a142c598.js";import{_ as q}from"./BackButton.vue.927a2fe5.js";import{_ as A}from"./Background.vue.02b3666c.js";import{P as K}from"./PageHeading.e82b04e7.js";import{u as b}from"./noteStore.6ac0b92f.js";import{c as B}from"./InputField.vue.0705252c.js";import{_ as L}from"./NoteForm.vue.e6c301d8.js";import{_ as W}from"./MultilineInput.vue.5d12250a.js";import"./TagSelecter.vue.8b01f695.js";const Y={class:"inline-block"},j=g({__name:"DeleteNote",props:{note:{}},setup(i){const a=i,l=b(),r=M(),t=d(!1),n=()=>t.value=!0,o=()=>t.value=!1;function u(){l.removeNote(a.note.id),r.push({name:"notes"}),o()}return(x,h)=>(_(),v("div",Y,[s(m,{icon:e(R),onClick:n,class:"text-error btn-ghost"},null,8,["icon"]),s(B,{"is-opened":e(t),onClose:o},{title:c(()=>[p(' Are you sure you want to remove note "'+$(a.note.title)+'" ? ',1)]),actions:c(()=>[s(m,{class:"btn-error",onClick:o},{default:c(()=>[p("No")]),_:1}),s(m,{class:"btn-success ml-2",onClick:u},{default:c(()=>[p("Yes")]),_:1})]),_:1},8,["is-opened"])]))}}),F={class:"inline-block"},G=g({__name:"EditNote",props:{note:{}},setup(i){const a=i,l=b(),r=d(null),t=d(!1),n=d(a.note.title),o=d(a.note.tagId),u=()=>t.value=!0,x=()=>t.value=!1;function h(){var N;(N=r.value)!=null&&N.validate()&&(l.editNote(a.note.id,n.value,a.note.text,o.value),x())}return(N,f)=>(_(),v("div",F,[s(m,{icon:e(T),onClick:u,class:"text-info btn-ghost"},null,8,["icon"]),s(B,{"is-opened":e(t),onClose:x},{title:c(()=>[p('Edit note "'+$(a.note.title)+'"',1)]),default:c(()=>[s(L,{name:e(n),"onUpdate:name":f[0]||(f[0]=C=>k(n)?n.value=C:null),"tag-id":e(o),"onUpdate:tagId":f[1]||(f[1]=C=>k(o)?o.value=C:null),ref_key:"form",ref:r},null,8,["name","tag-id"])]),actions:c(()=>[s(m,{class:"btn-success",onClick:h},{default:c(()=>[p("Save")]),_:1})]),_:1},8,["is-opened"])]))}}),J=g({__name:"Note",props:{note:{}},setup(i){const a=i,{note:l}=V(a),r=b();function t(o){r.editNote(l.value.id,l.value.title,o,l.value.tagId)}const n=E.debounce(t,2e3);return(o,u)=>(_(),v("div",{class:I(("mergeClasses"in o?o.mergeClasses:e(y))("flex","flex-col","flex-nowrap","gap-y-2"))},[s(W,{value:e(l).text,placeholder:"Write here...",onInput:e(n),class:I(("mergeClasses"in o?o.mergeClasses:e(y))("textarea","textarea-md","bg-base-200","shadow-md"))},null,8,["value","onInput","class"])],2))}}),Q={class:"mx-2"},X={class:"inline-block"},ie=g({__name:"index",setup(i){const a=P(),l=b(),r=Number(a.params.id),t=l.getNote(r),n=S(()=>l.tags.get(t.tagId));return U({title:`Notes - ${t.title}`}),(o,u)=>(_(),v("div",null,[s(K,null,{prepend:c(()=>[s(q,{to:"notes",label:"Back to notes",class:"mr-4"}),e(n)?(_(),z(O,{key:0,text:e(n).title,color:e(n).color,icon:e(n).icon},null,8,["text","color","icon"])):D("",!0)]),append:c(()=>[w("div",X,[s(G,{note:e(t)},null,8,["note"]),s(j,{note:e(t)},null,8,["note"])])]),default:c(()=>[w("span",Q,$(e(t).title),1)]),_:1}),s(A,{icon:e(H)},null,8,["icon"]),s(J,{note:e(t)},null,8,["note"])]))}});export{ie as default};
