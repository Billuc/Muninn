import{f as b,o as _,c as f,a as h,n as g,g as s,t as y,q as x,s as D,y as v,b as i,w as C,B as M,d as B,C as R,v as I,D as L,A as E,H as S,I as V,x as A,m as O,r as j,E as q}from"./entry.3b55fb50.js";import{u as T}from"./todoStore.5746b73a.js";import{_ as k,a as U,b as z}from"./TextInput.vue.f6c46988.js";import{_ as F}from"./MultilineInput.vue.587f9efd.js";import"./_plugin-vue_export-helper.c27b6911.js";const H={class:"form-control"},P={class:"cursor-pointer label"},W=["checked"],Y=b({__name:"Toggle",props:{toggleClass:{},labelClass:{},label:{},value:{type:Boolean}},emits:["input"],setup(p,{emit:t}){const l=p;function o(e){t("input",e.target.checked)}return(e,a)=>(_(),f("div",H,[h("label",P,[h("span",{class:g(("mergeClasses"in e?e.mergeClasses:s(x))("label-text","mr-2",l.labelClass))},y(l.label),3),h("input",{type:"checkbox",class:g(("mergeClasses"in e?e.mergeClasses:s(x))("toggle",l.toggleClass)),checked:l.value,onInput:o},null,42,W)])]))}}),G={class:"inline-block"},J=b({__name:"DeleteTodoList",props:{todolist:{}},setup(p){const t=p,l=T(),o=D(),e=v(!1),a=()=>e.value=!0,r=()=>e.value=!1;function c(){l.removeList(t.todolist.id),o.push({path:"/todos"}),r()}return(m,n)=>(_(),f("div",G,[i(k,{icon:s(M),onClick:a,class:"text-error btn-ghost"},null,8,["icon"]),i(U,{"is-opened":s(e),onClose:r},{title:C(()=>[B('Are you sure you want to remove todolist "'+y(t.todolist.title)+'" ?',1)]),actions:C(()=>[i(k,{class:"btn-error",label:"No",onClick:r}),i(k,{class:"btn-success ml-2",label:"Yes",onClick:c})]),_:1},8,["is-opened"])]))}}),K={class:"inline-block"},Q=b({__name:"EditTodoList",props:{todolist:{}},setup(p){const t=p,l=T(),o=v(!1),e=v(t.todolist.title),a=()=>o.value=!0,r=()=>o.value=!1,c=n=>e.value=n;function m(){l.editList(t.todolist.id,e.value),r()}return(n,u)=>(_(),f("div",K,[i(k,{icon:s(R),onClick:a,class:"text-info btn-ghost"},null,8,["icon"]),i(U,{"is-opened":s(o),onClose:r},{title:C(()=>[B('Edit todolist "'+y(t.todolist.title)+'"',1)]),default:C(()=>[h("div",null,[i(z,{label:"Todolist name",value:s(e),placeholder:"Enter name...","input-class":"input-secondary",onInput:c},null,8,["value"])])]),actions:C(()=>[i(k,{class:"btn-success",label:"Save",onClick:m})]),_:1},8,["is-opened"])]))}}),X=["checked"],Z=b({__name:"Checkbox",props:{value:{type:Boolean}},emits:["input"],setup(p,{expose:t,emit:l}){const o=p;var e=v(null);function a(c){l("input",c.target.checked)}return t({reset:()=>{e.value.checked=o.value}}),(c,m)=>(_(),f("input",{type:"checkbox",class:"checkbox",checked:s(o).value,onInput:a,ref_key:"checkbox",ref:e},null,40,X))}}),N=b({__name:"Todo",props:{todo:{}},emits:["update:title","update:done"],setup(p,{emit:t}){const l=p,{todo:o}=I(l),e=v(null),a=v(null),r=u=>{var d;t("update:done",u),(d=a.value)==null||d.reset()},c=u=>{var d;t("update:title",u),(d=e.value)==null||d.resetContent()},m=L.debounce(c,2e3),n=u=>{c(u),m.cancel()};return(u,d)=>(_(),f("div",{class:g(("mergeClasses"in u?u.mergeClasses:s(x))("m-0","flex","flex-nowrap","gap-x-2"))},[i(Z,{value:s(o).done,onInput:r,class:"checkbox-secondary",ref_key:"checkbox",ref:a},null,8,["value"]),i(F,{value:s(o).title,placeholder:"Write here...",ref_key:"input",ref:e,onInput:s(m),class:g({"w-full":!0,"line-through":s(o).done}),"detect-enter":"",onEnter:n},null,8,["value","onInput","class"]),s(o).id>=0?(_(),E(k,{key:0,icon:s(S),class:"btn-circle !btn-xs",onClick:d[0]||(d[0]=$=>n(""))},null,8,["icon"])):V("",!0)],2))}}),ee=b({__name:"TodoList",props:{showChecked:{type:Boolean},todolist:{}},setup(p){const t=p,{showChecked:l,todolist:o}=I(t),e=T(),a=A(()=>L.pickBy(o.value.todos,n=>!n.done||l.value)),r={id:-1,done:!1,title:""};function c(n,u,d){u?e.editTodo(o.value.id,n,u,d):e.removeTodo(o.value.id,n)}function m(n){n&&e.newTodo(o.value.id,n)}return(n,u)=>(_(),f("div",{class:g(("mergeClasses"in n?n.mergeClasses:s(x))("flex","flex-col","flex-nowrap","gap-y-2"))},[(_(!0),f(O,null,j(s(a),(d,$)=>(_(),E(N,{todo:d,"onUpdate:title":w=>c(Number($),w,d.done),"onUpdate:done":w=>c(Number($),d.title,w)},null,8,["todo","onUpdate:title","onUpdate:done"]))),256)),i(N,{todo:r,"onUpdate:title":m})],2))}}),se={class:"prose mx-auto"},oe={class:"text-center text-secondary-focus mb-0 mr-2"},te={class:"inline-block ml-2"},re=b({__name:"index",setup(p){const t=q(),l=T(),o=Number(t.params.id),e=l.getList(o),a=v(!1);return(r,c)=>(_(),f("div",se,[h("div",{class:g(("mergeClasses"in r?r.mergeClasses:s(x))("flex","flex-wrap","justify-center","items-center","mb-6"))},[h("h1",oe,y(s(e).title),1),h("div",te,[i(Q,{todolist:s(e)},null,8,["todolist"]),i(J,{todolist:s(e)},null,8,["todolist"])])],2),i(Y,{label:"Show checked",value:s(a),onInput:c[0]||(c[0]=m=>a.value=m),"toggle-class":"toggle-secondary",class:"w-fit my-4"},null,8,["value"]),i(ee,{"show-checked":s(a),todolist:s(e)},null,8,["show-checked","todolist"])]))}});export{re as default};
