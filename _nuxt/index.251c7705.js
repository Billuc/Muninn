import{g as m,bW as T,bO as I,j as t,o as c,i as v,w as d,b as l,ce as y,E as V,a as C,t as B,q as N,s as $,M as U,e as z,r as _,c as p,J as D,d as x,z as w,K as E,cb as L,h as M,F as P,n as S,u as A}from"./entry.ff782d29.js";import{_ as G}from"./Background.vue.44d273c2.js";import{P as H}from"./PageHeading.d4020c78.js";import{u as k}from"./noteStore.5e1237a8.js";import{_ as O}from"./TagSelecter.vue.c7aa3b8e.js";import{_ as R}from"./SelectField.vue.a80f611d.js";import{c as j}from"./InputField.vue.f22ff1f2.js";import{_ as q}from"./FABButton.vue.22f42e6e.js";import{_ as J}from"./NoteForm.vue.e41444cf.js";const K=m({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(i,{emit:a}){const s=i,e=k().tagArray,r=n=>a("update:selected",n);return(n,f)=>T((c(),v(O,{tags:t(e),selected:s.selected,label:"Filter by Tag","onUpdate:selected":r,clearable:""},null,8,["tags","selected"])),[[I,t(e).length]])}}),W={class:"card-title leading-5"},Q=m({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(i,{emit:a}){const s=i;function o(e){s.href||(e.preventDefault(),a("click"))}return(e,r)=>{const n=z;return c(),v(n,{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:o,href:s.href},{default:d(()=>[l(t(V),{icon:t(y),size:"2xl",class:"text-accent"},null,8,["icon"]),C("div",{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card-body","p-0","gap-0"))},[C("div",W,B(s.label),1)],2),s.tag?(c(),v(R,{key:0,icon:s.tag.icon,color:s.tag.color},null,8,["icon","color"])):U("",!0)]),_:1},8,["class","href"])}}}),X=m({__name:"CreateNote",setup(i){const a=k(),s=_(null),o=_(!1),e=_(""),r=_(""),n=()=>o.value=!0,f=()=>o.value=!1,u=()=>{var b;(b=s.value)!=null&&b.validate()&&(a.newNote(e.value,r.value),f(),F())},F=()=>{e.value="",r.value=""};return(b,g)=>(c(),p("div",null,[l(q,{icon:t(D),onClick:n,class:"-bottom-6 right-4"},null,8,["icon"]),l(j,{"is-opened":t(o),onClose:f},{title:d(()=>[x("Create a new note")]),default:d(()=>[l(J,{name:t(e),"onUpdate:name":g[0]||(g[0]=h=>w(e)?e.value=h:null),"tag-id":t(r),"onUpdate:tagId":g[1]||(g[1]=h=>w(r)?r.value=h:null),ref_key:"form",ref:s},null,8,["name","tag-id"])]),actions:d(()=>[l(E,{class:"btn-success",onClick:u},{default:d(()=>[x("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),Y=m({__name:"NotesGrid",props:{tagFilter:{}},setup(i){const a=i,s=k(),{notes:o}=L(s),e=M(()=>[...o.value.values()].filter(n=>!a.tagFilter||a.tagFilter===n.tagId)),r=n=>s.tags.get(n);return(n,f)=>(c(),p("div",{class:N(("mergeClasses"in n?n.mergeClasses:t($))("grid","grid-cols-1","md:grid-cols-2","gap-2","py-2","relative"))},[(c(!0),p(P,null,S(t(e),u=>(c(),v(Q,{key:`note-${u.id}`,label:u.title,href:`/notes/${u.id}`,tag:r(u.tagId)},null,8,["label","href","tag"]))),128)),l(X)],2))}}),Z={class:"flex flex-col items-center gap-2"},ee=m({__name:"NotesVue",setup(i){const a=_("");return(s,o)=>(c(),p("div",Z,[l(K,{selected:t(a),"onUpdate:selected":o[0]||(o[0]=e=>a.value=e)},null,8,["selected"]),l(Y,{"tag-filter":t(a),class:"w-full"},null,8,["tag-filter"])]))}}),se=C("span",null,"Notes",-1),de=m({__name:"index",setup(i){return A({title:"Notes"}),(a,s)=>(c(),p("div",null,[l(H,null,{default:d(()=>[se]),_:1}),l(G,{icon:t(y)},null,8,["icon"]),l(ee)]))}});export{de as default};
