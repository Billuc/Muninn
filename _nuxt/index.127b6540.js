import{g as m,z as y,a0 as F,h as t,o as r,q as g,w as u,b as l,ca as w,H as T,a as h,t as B,n as C,m as N,O as I,e as V,x as f,c as _,L,d as x,B as k,M as U,c9 as z,l as D,F as H,r as M,u as P}from"./entry.fba0ea98.js";import{_ as S}from"./Background.vue.7bd083cd.js";import{P as A}from"./PageHeading.63e43538.js";import{u as $}from"./noteStore.2703e7dc.js";import{_ as E}from"./TagSelecter.vue.e69c76ff.js";import{_ as G}from"./SelectAlt.vue.88259c7d.js";import{b as O}from"./InputAlt.vue.c568be83.js";import{_ as R}from"./FABButton.vue.6f7ad212.js";import{_ as q}from"./NoteForm.vue.dc6be4cb.js";const j=m({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(c,{emit:n}){const s=c,e=$().tagArray,i=a=>n("update:selected",a);return(a,v)=>y((r(),g(E,{tags:t(e),selected:s.selected,label:"Filter by Tag","onUpdate:selected":i,clearable:""},null,8,["tags","selected"])),[[F,t(e).length]])}}),J={class:"card-title leading-5"},K=m({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(c,{emit:n}){const s=c;function o(e){s.href||(e.preventDefault(),n("click"))}return(e,i)=>{const a=V;return r(),g(a,{class:C(("mergeClasses"in e?e.mergeClasses:t(N))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:o,href:s.href},{default:u(()=>[l(t(T),{icon:t(w),size:"2xl",class:"text-accent"},null,8,["icon"]),h("div",{class:C(("mergeClasses"in e?e.mergeClasses:t(N))("card-body","p-0","gap-0"))},[h("div",J,B(s.label),1)],2),s.tag?(r(),g(G,{key:0,icon:s.tag.icon,color:s.tag.color},null,8,["icon","color"])):I("",!0)]),_:1},8,["class","href"])}}}),Q=m({__name:"CreateNote",setup(c){const n=$(),s=f(!1),o=f(""),e=f(-1),i=()=>s.value=!0,a=()=>s.value=!1,v=()=>{n.newNote(o.value,e.value),a(),d()},d=()=>{o.value="",e.value=-1};return(ee,p)=>(r(),_("div",null,[l(R,{icon:t(L),onClick:i,class:"-bottom-6 right-4"},null,8,["icon"]),l(O,{"is-opened":t(s),onClose:a},{title:u(()=>[x("Create a new note")]),default:u(()=>[l(q,{name:t(o),"onUpdate:name":p[0]||(p[0]=b=>k(o)?o.value=b:null),"tag-id":t(e),"onUpdate:tagId":p[1]||(p[1]=b=>k(e)?e.value=b:null)},null,8,["name","tag-id"])]),actions:u(()=>[l(U,{class:"btn-success",onClick:v},{default:u(()=>[x("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),W=m({__name:"NotesGrid",props:{tagFilter:{}},setup(c){const n=c,s=$(),{notes:o}=z(s),e=D(()=>[...o.value.values()].filter(a=>n.tagFilter<0||n.tagFilter===a.tagId)),i=a=>s.tags.get(a);return(a,v)=>(r(),_("div",{class:C(("mergeClasses"in a?a.mergeClasses:t(N))("grid","grid-cols-1","md:grid-cols-2","gap-2","py-2","relative"))},[(r(!0),_(H,null,M(t(e),d=>(r(),g(K,{key:`note-${d.id}`,label:d.title,href:`/notes/${d.id}`,tag:i(d.tagId)},null,8,["label","href","tag"]))),128)),l(Q)],2))}}),X={class:"flex flex-col items-center gap-2"},Y=m({__name:"NotesVue",setup(c){const n=f(-1);return(s,o)=>(r(),_("div",X,[l(j,{selected:t(n),"onUpdate:selected":o[0]||(o[0]=e=>n.value=e)},null,8,["selected"]),l(W,{"tag-filter":t(n),class:"w-full"},null,8,["tag-filter"])]))}}),Z=h("span",null,"Notes",-1),de=m({__name:"index",setup(c){return P({title:"Notes"}),(n,s)=>(r(),_("div",null,[l(A,null,{default:u(()=>[Z]),_:1}),l(S,{icon:t(w)},null,8,["icon"]),l(Y)]))}});export{de as default};
