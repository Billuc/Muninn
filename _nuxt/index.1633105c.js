import{g as v,b_ as w,x as g,o as p,c as b,b as o,h as e,b$ as y,M as d,w as c,d as m,t as C,c0 as R,B as h,Q as T,v as V,n as $,m as k,c7 as E,l as O,u as P,q as S,O as U,a as I,ca as D}from"./entry.fba0ea98.js";import{_ as H}from"./SelectAlt.vue.88259c7d.js";import{_ as q}from"./BackButton.vue.0e6a0680.js";import{_ as z}from"./Background.vue.7bd083cd.js";import{P as A}from"./PageHeading.63e43538.js";import{u as x}from"./noteStore.2703e7dc.js";import{b as B}from"./InputAlt.vue.c568be83.js";import{_ as F}from"./NoteForm.vue.dc6be4cb.js";import{_ as L}from"./MultilineField.vue.9fc529de.js";import"./TagSelecter.vue.e69c76ff.js";const Q={class:"inline-block"},W=v({__name:"DeleteNote",props:{note:{}},setup(r){const a=r,l=x(),i=w(),t=g(!1),s=()=>t.value=!0,n=()=>t.value=!1;function u(){l.removeNote(a.note.id),i.push({name:"notes"}),n()}return(_,M)=>(p(),b("div",Q,[o(d,{icon:e(y),onClick:s,class:"text-error btn-ghost"},null,8,["icon"]),o(B,{"is-opened":e(t),onClose:n},{title:c(()=>[m(' Are you sure you want to remove note "'+C(a.note.title)+'" ? ',1)]),actions:c(()=>[o(d,{class:"btn-error",onClick:n},{default:c(()=>[m("No")]),_:1}),o(d,{class:"btn-success ml-2",onClick:u},{default:c(()=>[m("Yes")]),_:1})]),_:1},8,["is-opened"])]))}}),Y={class:"inline-block"},j=v({__name:"EditNote",props:{note:{}},setup(r){const a=r,l=x(),i=g(!1),t=g(a.note.title),s=g(a.note.tagId),n=()=>i.value=!0,u=()=>i.value=!1;function _(){l.editNote(a.note.id,t.value,a.note.text,s.value),u()}return(M,f)=>(p(),b("div",Y,[o(d,{icon:e(R),onClick:n,class:"text-info btn-ghost"},null,8,["icon"]),o(B,{"is-opened":e(i),onClose:u},{title:c(()=>[m('Edit note "'+C(a.note.title)+'"',1)]),default:c(()=>[o(F,{name:e(t),"onUpdate:name":f[0]||(f[0]=N=>h(t)?t.value=N:null),"tag-id":e(s),"onUpdate:tagId":f[1]||(f[1]=N=>h(s)?s.value=N:null)},null,8,["name","tag-id"])]),actions:c(()=>[o(d,{class:"btn-success",onClick:_},{default:c(()=>[m("Save")]),_:1})]),_:1},8,["is-opened"])]))}}),G=v({__name:"Note",props:{note:{}},setup(r){const a=r,{note:l}=T(a),i=x();function t(n){i.editNote(l.value.id,l.value.title,n,l.value.tagId)}const s=V.debounce(t,2e3);return(n,u)=>{const _=L;return p(),b("div",{class:$(("mergeClasses"in n?n.mergeClasses:e(k))("flex","flex-col","flex-nowrap","gap-y-2"))},[o(_,{value:e(l).text,placeholder:"Write here...",onInput:e(s),class:$(("mergeClasses"in n?n.mergeClasses:e(k))("textarea","textarea-md","bg-base-200","shadow-md"))},null,8,["value","onInput","class"])],2)}}}),J={class:"mx-2"},K={class:"inline-block"},ie=v({__name:"index",setup(r){const a=E(),l=x(),i=Number(a.params.id),t=l.getNote(i),s=O(()=>l.tags.get(t.tagId));return P({title:`Notes - ${t.title}`}),(n,u)=>(p(),b("div",null,[o(A,null,{prepend:c(()=>[o(q,{to:"notes",label:"Back to notes",class:"mr-4"}),e(s)?(p(),S(H,{key:0,text:e(s).title,color:e(s).color,icon:e(s).icon},null,8,["text","color","icon"])):U("",!0)]),append:c(()=>[I("div",K,[o(j,{note:e(t)},null,8,["note"]),o(W,{note:e(t)},null,8,["note"])])]),default:c(()=>[I("span",J,C(e(t).title),1)]),_:1}),o(z,{icon:e(D)},null,8,["icon"]),o(G,{note:e(t)},null,8,["note"])]))}});export{ie as default};
