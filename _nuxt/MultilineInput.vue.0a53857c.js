import{g as h,$ as v,x as b,bQ as x,c as y,t as _,h as r,n as w,o as C,m as R}from"./entry.4f0d1c00.js";const T=["placeholder"],B=h({__name:"MultilineInput",props:{value:{},detectEnter:{type:Boolean},placeholder:{}},emits:["update:value","enter"],setup(p,{expose:i,emit:l}){const u=p,{value:o,placeholder:d,detectEnter:m}=v(u),n=b(null),g=e=>{var a;const t=(a=e.target)==null?void 0:a.innerText;m&&(e.inputType==="insertParagraph"||e.inputType==="insertText"&&t.endsWith(`
`))?(l("enter",t.trim()),f()):l("update:value",t)},f=()=>{n.value&&(n.value.innerText=o.value)};return i({blur:()=>{var e;return(e=n.value)==null?void 0:e.blur()}}),x([o],()=>{const e=document.getSelection().getRangeAt(0),t=e.endOffset;n.value.innerHTML=o.value;const a=document.createRange(),c=window.getSelection(),s=n.value.childNodes[0];console.log(e,s),c.removeAllRanges(),s&&(a.setStart(s,t>s.textContent.length?0:t),a.collapse(!0),c.addRange(a))}),(e,t)=>(C(),y("div",{class:w(("mergeClasses"in e?e.mergeClasses:r(R))("focus:outline-0","m-0","leading-normal","whitespace-pre-wrap","empty:before:content-[attr(placeholder)]","empty:before:text-sm","empty:before:opacity-75","empty:before:cursor-text")),onInput:g,placeholder:r(d)||"",contenteditable:"",tabindex:"0",ref_key:"input",ref:n},_(r(o)),43,T))}});export{B as _};
