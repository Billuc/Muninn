import{g as b,c as f,a as h,s as g,h as s,t as y,o as _,v as x,x as D,A as v,b as i,D as k,w as C,E as M,d as L,G as R,y as B,H as I,C as E,K as S,L as V,z,q as A,r as H,I as O,u as j}from"./entry.d1dc53c0.js";import{u as T}from"./todoStore.4396c0cf.js";import{_ as U,a as q}from"./TextInput.vue.9fe363c9.js";import{_ as F}from"./MultilineInput.vue.f0619dc1.js";const G={class:"form-control"},K={class:"cursor-pointer label"},P=["checked"],W=b({__name:"Toggle",props:{toggleClass:{},labelClass:{},label:{},value:{type:Boolean}},emits:["input"],setup(p,{emit:o}){const l=p;function t(e){o("input",e.target.checked)}return(e,a)=>(_(),f("div",G,[h("label",K,[h("span",{class:g(("mergeClasses"in e?e.mergeClasses:s(x))("label-text","mr-2",l.labelClass))},y(l.label),3),h("input",{type:"checkbox",class:g(("mergeClasses"in e?e.mergeClasses:s(x))("toggle",l.toggleClass)),checked:l.value,onInput:t},null,42,P)])]))}}),Y={class:"inline-block"},J=b({__name:"DeleteTodoList",props:{todolist:{}},setup(p){const o=p,l=T(),t=D(),e=v(!1),a=()=>e.value=!0,r=()=>e.value=!1;function c(){l.removeList(o.todolist.id),t.push({path:"/todos"}),r()}return(m,n)=>(_(),f("div",Y,[i(k,{icon:s(M),onClick:a,class:"text-error btn-ghost"},null,8,["icon"]),i(U,{"is-opened":s(e),onClose:r},{title:C(()=>[L('Are you sure you want to remove todolist "'+y(o.todolist.title)+'" ?',1)]),actions:C(()=>[i(k,{class:"btn-error",label:"No",onClick:r}),i(k,{class:"btn-success ml-2",label:"Yes",onClick:c})]),_:1},8,["is-opened"])]))}}),Q={class:"inline-block"},X=b({__name:"EditTodoList",props:{todolist:{}},setup(p){const o=p,l=T(),t=v(!1),e=v(o.todolist.title),a=()=>t.value=!0,r=()=>t.value=!1,c=n=>e.value=n;function m(){l.editList(o.todolist.id,e.value),r()}return(n,u)=>(_(),f("div",Q,[i(k,{icon:s(R),onClick:a,class:"text-info btn-ghost"},null,8,["icon"]),i(U,{"is-opened":s(t),onClose:r},{title:C(()=>[L('Edit todolist "'+y(o.todolist.title)+'"',1)]),default:C(()=>[h("div",null,[i(q,{label:"Todolist name",value:s(e),placeholder:"Enter name...","input-class":"input-secondary",onInput:c},null,8,["value"])])]),actions:C(()=>[i(k,{class:"btn-success",label:"Save",onClick:m})]),_:1},8,["is-opened"])]))}}),Z=["checked"],ee=b({__name:"Checkbox",props:{value:{type:Boolean}},emits:["input"],setup(p,{expose:o,emit:l}){const t=p;var e=v(null);function a(c){l("input",c.target.checked)}return o({reset:()=>{e.value.checked=t.value}}),(c,m)=>(_(),f("input",{type:"checkbox",class:"checkbox",checked:s(t).value,onInput:a,ref_key:"checkbox",ref:e},null,40,Z))}}),N=b({__name:"Todo",props:{todo:{}},emits:["update:title","update:done"],setup(p,{emit:o}){const l=p,{todo:t}=B(l),e=v(null),a=v(null),r=u=>{var d;o("update:done",u),(d=a.value)==null||d.reset()},c=u=>{var d;o("update:title",u),(d=e.value)==null||d.resetContent()},m=I.debounce(c,2e3),n=u=>{c(u),m.cancel()};return(u,d)=>(_(),f("div",{class:g(("mergeClasses"in u?u.mergeClasses:s(x))("m-0","flex","flex-nowrap","gap-x-2"))},[i(ee,{value:s(t).done,onInput:r,class:"checkbox-secondary",ref_key:"checkbox",ref:a},null,8,["value"]),i(F,{value:s(t).title,placeholder:"Write here...",ref_key:"input",ref:e,onInput:s(m),class:g({"w-full":!0,"line-through":s(t).done}),"detect-enter":"",onEnter:n},null,8,["value","onInput","class"]),s(t).id>=0?(_(),E(k,{key:0,icon:s(S),class:"btn-circle !btn-xs",onClick:d[0]||(d[0]=$=>n(""))},null,8,["icon"])):V("",!0)],2))}}),se=b({__name:"TodoList",props:{showChecked:{type:Boolean},todolist:{}},setup(p){const o=p,{showChecked:l,todolist:t}=B(o),e=T(),a=z(()=>I.pickBy(t.value.todos,n=>!n.done||l.value)),r={id:-1,done:!1,title:""};function c(n,u,d){u?e.editTodo(t.value.id,n,u,d):e.removeTodo(t.value.id,n)}function m(n){n&&e.newTodo(t.value.id,n)}return(n,u)=>(_(),f("div",{class:g(("mergeClasses"in n?n.mergeClasses:s(x))("flex","flex-col","flex-nowrap","gap-y-2"))},[(_(!0),f(A,null,H(s(a),(d,$)=>(_(),E(N,{todo:d,"onUpdate:title":w=>c(Number($),w,d.done),"onUpdate:done":w=>c(Number($),d.title,w)},null,8,["todo","onUpdate:title","onUpdate:done"]))),256)),i(N,{todo:r,"onUpdate:title":m})],2))}}),te={class:"prose mx-auto"},oe={class:"text-center text-secondary-focus mb-0 mr-2"},ne={class:"inline-block ml-2"},re=b({__name:"index",setup(p){const o=O(),l=T(),t=Number(o.params.id),e=l.getList(t),a=v(!1);return j({title:`Todos - ${e.title}`}),(r,c)=>(_(),f("div",te,[h("div",{class:g(("mergeClasses"in r?r.mergeClasses:s(x))("flex","flex-wrap","justify-center","items-center","mb-6"))},[h("h1",oe,y(s(e).title),1),h("div",ne,[i(X,{todolist:s(e)},null,8,["todolist"]),i(J,{todolist:s(e)},null,8,["todolist"])])],2),i(W,{label:"Show checked",value:s(a),onInput:c[0]||(c[0]=m=>a.value=m),"toggle-class":"toggle-secondary",class:"w-fit my-4"},null,8,["value"]),i(se,{"show-checked":s(a),todolist:s(e)},null,8,["show-checked","todolist"])]))}});export{re as default};
