import{g as m,bZ as T,bS as I,j as t,o as c,i as v,w as d,b as l,ch as y,G as V,a as C,t as B,n as N,m as $,z as S,e as U,r as _,c as p,K as z,d as x,v as w,A,ce as D,h as G,M as L,N as M,u as P}from"./entry.4537cad6.js";import{P as E,_ as H}from"./PageHeading.501b1175.js";import{u as k}from"./noteStore.f3a8949a.js";import{_ as R}from"./TagSelecter.vue.9f7d7b5f.js";import{a as j}from"./Tag.dda4a674.js";import{c as K}from"./InputField.vue.aab2f993.js";import{_ as O}from"./FABButton.vue.675ab981.js";import{_ as Z}from"./NoteForm.vue.020b2b2b.js";import"./v4.4a60fe23.js";const q=m({__name:"NoteTagFilter",props:{selected:{}},emits:["update:selected"],setup(i,{emit:a}){const s=i,e=k().tagArray,r=n=>a("update:selected",n);return(n,f)=>T((c(),v(R,{tags:t(e),selected:s.selected,label:"Filter by Tag","onUpdate:selected":r,clearable:""},null,8,["tags","selected"])),[[I,t(e).length]])}}),J={class:"card-title leading-5"},Q=m({__name:"NotesGridElement",props:{label:{},href:{},tag:{}},emits:["click"],setup(i,{emit:a}){const s=i;function o(e){s.href||(e.preventDefault(),a("click"))}return(e,r)=>{const n=U;return c(),v(n,{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card","card-side","py-2","px-4","items-center","gap-2","bg-base-200","hover:bg-base-300","transition-colors","duration-300","shadow-md")),onClick:o,href:s.href},{default:d(()=>[l(t(V),{icon:t(y),size:"2xl",class:"text-accent"},null,8,["icon"]),C("div",{class:N(("mergeClasses"in e?e.mergeClasses:t($))("card-body","p-0","gap-0"))},[C("div",J,B(s.label),1)],2),s.tag?(c(),v(j,{key:0,icon:s.tag.icon,color:s.tag.color},null,8,["icon","color"])):S("",!0)]),_:1},8,["class","href"])}}}),W=m({__name:"CreateNote",setup(i){const a=k(),s=_(null),o=_(!1),e=_(""),r=_(""),n=()=>o.value=!0,f=()=>o.value=!1,u=()=>{var b;(b=s.value)!=null&&b.validate()&&(a.newNote(e.value,r.value),f(),F())},F=()=>{e.value="",r.value=""};return(b,g)=>(c(),p("div",null,[l(O,{icon:t(z),onClick:n,class:"-bottom-4 right-4"},null,8,["icon"]),l(K,{"is-opened":t(o),onClose:f},{title:d(()=>[x("Create a new note")]),default:d(()=>[l(Z,{name:t(e),"onUpdate:name":g[0]||(g[0]=h=>w(e)?e.value=h:null),"tag-id":t(r),"onUpdate:tagId":g[1]||(g[1]=h=>w(r)?r.value=h:null),ref_key:"form",ref:s},null,8,["name","tag-id"])]),actions:d(()=>[l(A,{class:"btn-success",onClick:u},{default:d(()=>[x("Create")]),_:1})]),_:1},8,["is-opened"])]))}}),X=m({__name:"NotesGrid",props:{tagFilter:{}},setup(i){const a=i,s=k(),{notes:o}=D(s),e=G(()=>[...o.value.values()].filter(n=>!a.tagFilter||a.tagFilter===n.tagId)),r=n=>s.tags.get(n);return(n,f)=>(c(),p("div",{class:N(("mergeClasses"in n?n.mergeClasses:t($))("grid","grid-cols-1","md:grid-cols-2","gap-2","py-2","relative"))},[(c(!0),p(L,null,M(t(e),u=>(c(),v(Q,{key:`note-${u.id}`,label:u.title,href:`/notes/${u.id}`,tag:r(u.tagId)},null,8,["label","href","tag"]))),128)),l(W)],2))}}),Y={class:"flex flex-col items-center gap-2"},ee=m({__name:"NotesVue",setup(i){const a=_("");return(s,o)=>(c(),p("div",Y,[l(q,{selected:t(a),"onUpdate:selected":o[0]||(o[0]=e=>a.value=e)},null,8,["selected"]),l(X,{"tag-filter":t(a),class:"w-full"},null,8,["tag-filter"])]))}}),se=C("span",null,"Notes",-1),de=m({__name:"index",setup(i){return P({title:"Notes"}),(a,s)=>(c(),p("div",null,[l(E,null,{default:d(()=>[se]),_:1}),l(H,{icon:t(y)},null,8,["icon"]),l(ee)]))}});export{de as default};
