import{g as m,s as O,o as d,c as u,b as i,h as l,I,E as x,a as y,t as b,J as R,n as g,m as f,l as $,w as H,d as Y,F,r as S,x as L,K as P,u as T,L as U}from"./entry.5564aef3.js";import{P as W}from"./PageHeading.25c30acd.js";import{a as E,_ as j,b as q}from"./CreateEvent.vue.40023fbd.js";import{r as C,t as v,a as z,g as J,f as N,e as B}from"./index.f3feb017.js";import{u as V}from"./eventStore.18719fad.js";import{i as K,s as M}from"./index.0bcc0cb9.js";import{a as G}from"./index.6e1b1773.js";import{_ as Q}from"./TagSelecter.vue.6c69c335.js";import{_ as X}from"./Background.vue.80994d97.js";import"./Tag.4288d6f9.js";import"./Dialog.vue.f18504cd.js";import"./FABButton.vue.1ba6035c.js";import"./InputAlt.vue.c3982aa6.js";function Z(n){C(1,arguments);var e=v(n);return e.setDate(1),e.setHours(0,0,0,0),e}function ee(n){C(1,arguments);var e=v(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(0,0,0,0),e}function te(n,e){C(2,arguments);var t=v(n),a=v(e);return t.getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()}function ae(n,e){var t,a,s,o,r,p,c,w;C(1,arguments);var k=J(),h=z((t=(a=(s=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(r=e.locale)===null||r===void 0||(p=r.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&s!==void 0?s:k.weekStartsOn)!==null&&a!==void 0?a:(c=k.locale)===null||c===void 0||(w=c.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&t!==void 0?t:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var _=v(n),D=_.getDay(),A=(D<h?-7:0)+6-(D-h);return _.setHours(0,0,0,0),_.setDate(_.getDate()+A),_}const se={tabindex:"0",class:"text-base font-bold"},ne=m({__name:"CalendarHeader",props:{date:{}},emits:["nextMonth","previousMonth"],setup(n,{emit:e}){const t=n,a=O(()=>N(t.date,"MMMM yyyy")),s=()=>e("nextMonth"),o=()=>e("previousMonth");return(r,p)=>(d(),u("div",{class:g(("mergeClasses"in r?r.mergeClasses:l(f))("px-4","flex","items-center","justify-between"))},[i(x,{icon:l(I),onClick:o,class:"btn-circle btn-ghost btn-xs"},null,8,["icon"]),y("span",se,b(l(a)),1),i(x,{icon:l(R),onClick:s,class:"btn-circle btn-ghost btn-xs"},null,8,["icon"])],2))}}),re={class:"absolute left-1/2 bottom-[2px] -translate-x-1/2"},le=m({__name:"CalendarDayButton",props:{day:{},date:{},tagFilter:{}},setup(n){const e=n,t=V(),a=O(()=>t.getEventsOfDay(e.day).filter(s=>(e.tagFilter??-1)<0||s.tagId===e.tagFilter).length);return(s,o)=>{const r=x;return d(),$(r,{class:g(("mergeClasses"in s?s.mergeClasses:l(f))("btn-circle",l(te)(e.day,e.date)?void 0:"opacity-50",l(K)(e.day,e.date)?"btn-primary":"btn-ghost","relative"))},{default:H(()=>[Y(b(s.day.getDate())+" ",1),y("div",re,b(".".repeat(Math.min(3,l(a)))),1)]),_:1},8,["class"])}}}),oe={class:"text-base font-medium text-center"},de=m({__name:"CalendarMonthView",props:{date:{},tagFilter:{}},emits:["selectDate"],setup(n,{emit:e}){const t=n,a=B({start:M(t.date,{weekStartsOn:1}),end:G(M(t.date,{weekStartsOn:1}),6)}).map(r=>N(r,"EEE")),s=O(()=>B({start:M(Z(t.date),{weekStartsOn:1}),end:ae(ee(t.date),{weekStartsOn:1})})),o=r=>e("selectDate",r);return(r,p)=>(d(),u("div",{class:g(("mergeClasses"in r?r.mergeClasses:l(f))("grid","grid-cols-7","gap-y-1"))},[(d(!0),u(F,null,S(l(a),c=>(d(),u("div",oe,b(c),1))),256)),(d(!0),u(F,null,S(l(s),c=>(d(),$(le,{key:"day-"+c,day:c,date:t.date,"tag-filter":t.tagFilter,onClick:()=>o(c)},null,8,["day","date","tag-filter","onClick"]))),128))],2))}}),ie=m({__name:"CalendarCard",props:{date:{},tagFilter:{}},emits:["update:date"],setup(n,{emit:e}){const t=n,a=()=>e("update:date",E(t.date,-1)),s=()=>e("update:date",E(t.date,1)),o=r=>e("update:date",r);return(r,p)=>(d(),u("div",null,[i(ne,{date:t.date,onPreviousMonth:a,onNextMonth:s,class:"px-4"},null,8,["date"]),i(de,{date:t.date,"tag-filter":t.tagFilter,class:"pt-4",onSelectDate:o},null,8,["date","tag-filter"])]))}}),ce=m({__name:"Calendar",props:{tagFilter:{}},setup(n){const e=n,t=L(new Date);return(a,s)=>(d(),u("div",{class:g(("mergeClasses"in a?a.mergeClasses:l(f))("relative","max-w-md","md:max-w-full"))},[y("div",{class:g(("mergeClasses"in a?a.mergeClasses:l(f))("card","shadow-xl","overflow-hidden","grid","grid-cols-1","md:grid-cols-5","p-2","bg-base-300"))},[i(ie,{date:l(t),"onUpdate:date":s[0]||(s[0]=o=>P(t)?t.value=o:null),"tag-filter":e.tagFilter,class:g(("mergeClasses"in a?a.mergeClasses:l(f))("px-4","py-4","bg-base-100","md:col-span-3","rounded-box"))},null,8,["date","tag-filter","class"]),i(j,{day:l(t),"tag-filter":e.tagFilter,class:g(("mergeClasses"in a?a.mergeClasses:l(f))("md:col-span-2","rounded-box"))},null,8,["day","tag-filter","class"])],2),i(q)],2))}}),ue=m({__name:"EventTagFilter",props:{selected:{}},emits:["update:selected"],setup(n,{emit:e}){const t=n,s=V().tagArray,o=r=>e("update:selected",r);return(r,p)=>(d(),$(Q,{tags:l(s),selected:t.selected,label:"","onUpdate:selected":o},null,8,["tags","selected"]))}}),me={class:"flex flex-col items-center gap-2"},pe=m({__name:"EventsVue",setup(n){const e=L(-1);return(t,a)=>(d(),u("div",me,[i(ue,{selected:l(e),"onUpdate:selected":a[0]||(a[0]=s=>e.value=s)},null,8,["selected"]),i(ce,{"tag-filter":l(e),class:"w-full"},null,8,["tag-filter"])]))}}),ge=y("span",null,"Events",-1),De=m({__name:"index",setup(n){return T({title:"Events"}),(e,t)=>(d(),u("div",null,[i(W,null,{default:H(()=>[ge]),_:1}),i(X,{icon:l(U)},null,8,["icon"]),i(pe)]))}});export{De as default};
